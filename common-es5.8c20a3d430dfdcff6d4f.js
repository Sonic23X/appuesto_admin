function _possibleConstructorReturn(n,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(n):t}function _assertThisInitialized(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _getPrototypeOf(n){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function _inherits(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&_setPrototypeOf(n,t)}function _setPrototypeOf(n,t){return(_setPrototypeOf=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2qGb":function(n,t,e){"use strict";var i=e("OLIi");e.d(t,"b",(function(){return i.a}));var a=e("o0MT");e.d(t,"a",(function(){return a.a}))},"3mAq":function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var i=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"transform",value:function(n){var t="";switch(n){case"staff":t="Staff";break;case"manager":t="Gerente";break;case"admin":t="Administrador";break;default:t="No se ha podido identificar el rol"}return t}}]),n}()},"9zbn":function(n,t,e){"use strict";var i=e("8Y7J"),a=e("SVse");e("NhFE"),e.d(t,"a",(function(){return c})),e.d(t,"b",(function(){return g}));var c=i.xb({encapsulation:0,styles:[["ul[_ngcontent-%COMP%]{list-style:none;margin:0;width:100%}ul[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:100%;margin:0 8px;width:24px;height:24px;color:#3c3c3c;font-weight:400;cursor:pointer;font-size:14px;line-height:1;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ul[_ngcontent-%COMP%]   li.icon[_ngcontent-%COMP%]{font-size:24px;color:#a8a8a8;font-weight:lighter;padding-bottom:4px}ul[_ngcontent-%COMP%]   li.icon[_ngcontent-%COMP%]:last-child{color:#f26614}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#f26614;color:#fff}ul[_ngcontent-%COMP%]   li.points[_ngcontent-%COMP%]{cursor:default}"]],data:{}});function r(n){return i.ac(0,[(n()(),i.zb(0,0,null,null,1,"li",[],null,[[null,"click"]],(function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.firstPage()&&i),i}),null,null)),(n()(),i.Xb(-1,null,["1"]))],null,null)}function l(n){return i.ac(0,[(n()(),i.zb(0,0,null,null,1,"li",[["class","points"]],null,null,null,null,null)),(n()(),i.Xb(-1,null,["..."]))],null,null)}function u(n){return i.ac(0,[(n()(),i.zb(0,0,null,null,1,"li",[],null,[[null,"click"]],(function(n,t,e){var i=!0,a=n.component;return"click"===t&&(i=!1!==a.changePage(a.actualPage-1)&&i),i}),null,null)),(n()(),i.Xb(1,null,[" "," "]))],null,(function(n,t){n(t,1,0,t.component.actualPage-1)}))}function o(n){return i.ac(0,[(n()(),i.zb(0,0,null,null,1,"li",[["class","active"]],null,[[null,"click"]],(function(n,t,e){var i=!0,a=n.component;return"click"===t&&(i=!1!==a.changePage(a.actualPage)&&i),i}),null,null)),(n()(),i.Xb(1,null,[" "," "]))],null,(function(n,t){n(t,1,0,t.component.actualPage)}))}function s(n){return i.ac(0,[(n()(),i.zb(0,0,null,null,1,"li",[],null,[[null,"click"]],(function(n,t,e){var i=!0,a=n.component;return"click"===t&&(i=!1!==a.changePage(a.actualPage+1)&&i),i}),null,null)),(n()(),i.Xb(1,null,[" "," "]))],null,(function(n,t){n(t,1,0,t.component.actualPage+1)}))}function f(n){return i.ac(0,[(n()(),i.zb(0,0,null,null,1,"li",[["class","points"]],null,null,null,null,null)),(n()(),i.Xb(-1,null,["..."]))],null,null)}function h(n){return i.ac(0,[(n()(),i.zb(0,0,null,null,1,"li",[],null,[[null,"click"]],(function(n,t,e){var i=!0;return"click"===t&&(i=!1!==n.component.lastPage()&&i),i}),null,null)),(n()(),i.Xb(1,null,[" "," "]))],null,(function(n,t){n(t,1,0,t.component.totalPages)}))}function g(n){return i.ac(0,[(n()(),i.zb(0,0,null,null,18,"ul",[],null,null,null,null,null)),(n()(),i.zb(1,0,null,null,1,"li",[["class","icon"]],null,[[null,"click"]],(function(n,t,e){var i=!0,a=n.component;return"click"===t&&(i=!1!==a.changePage(a.actualPage-1)&&i),i}),null,null)),(n()(),i.Xb(-1,null,["\u2039"])),(n()(),i.jb(16777216,null,null,1,null,r)),i.yb(4,16384,null,0,a.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(n()(),i.jb(16777216,null,null,1,null,l)),i.yb(6,16384,null,0,a.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(n()(),i.jb(16777216,null,null,1,null,u)),i.yb(8,16384,null,0,a.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(n()(),i.jb(16777216,null,null,1,null,o)),i.yb(10,16384,null,0,a.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(n()(),i.jb(16777216,null,null,1,null,s)),i.yb(12,16384,null,0,a.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(n()(),i.jb(16777216,null,null,1,null,f)),i.yb(14,16384,null,0,a.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(n()(),i.jb(16777216,null,null,1,null,h)),i.yb(16,16384,null,0,a.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(n()(),i.zb(17,0,null,null,1,"li",[["class","icon"]],null,[[null,"click"]],(function(n,t,e){var i=!0,a=n.component;return"click"===t&&(i=!1!==a.changePage(a.actualPage+1)&&i),i}),null,null)),(n()(),i.Xb(-1,null,["\u203a"]))],(function(n,t){var e=t.component;n(t,4,0,e.actualPage>1),n(t,6,0,e.actualPage-1-1>1),n(t,8,0,e.actualPage>2),n(t,10,0,e.actualPage),n(t,12,0,e.actualPage+1<e.totalPages),n(t,14,0,e.actualPage+1-e.totalPages<-1),n(t,16,0,e.actualPage<e.totalPages)}),null)}},ERj4:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var i=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"transform",value:function(n){var t="";switch(n){case"auth/user-not-found":t="El usuario no se encuentra registrado";break;case"auth/invalid-email":t="El correo ingresado es inv\xe1lido";break;case"auth/wrong-password":t="La contrase\xf1a ingresada es incorrecta";break;case"auth/not-an-admin":t="La cuenta no cuenta con permisos de administrador";break;default:t="No se ha podido identificar el error"}return t}}]),n}()},ETUl:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var i=function n(){_classCallCheck(this,n)}},JJoM:function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var i=e("AytR"),a=e("8Y7J"),c=e("IheW"),r=function(){var n=function(){function n(t){_classCallCheck(this,n),this.http=t}return _createClass(n,[{key:"getStripeStatus",value:function(){return this.http.get(i.a.STRIPE_OAUTH_STATUS)}},{key:"getStripeLink",value:function(){return this.http.get(i.a.STRIPE_LINK)}}]),n}();return n.\u0275prov=a.bc({factory:function(){return new n(a.cc(c.c))},token:n,providedIn:"root"}),n}()},NhFE:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var i=e("8Y7J"),a=function(){function n(){_classCallCheck(this,n),this.totalPages=0,this.currentPage=new i.o,this.actualPage=1,this.resetPagination()}return _createClass(n,[{key:"ngOnChanges",value:function(){this.resetPagination()}},{key:"changePage",value:function(n){n!==this.actualPage&&n>0&&n<=this.totalPages&&(this.currentPage.next(n),this.actualPage=n)}},{key:"firstPage",value:function(){this.changePage(1)}},{key:"lastPage",value:function(){this.changePage(this.totalPages)}},{key:"resetPagination",value:function(){this.actualPage=1,this.currentPage.next(this.actualPage)}}]),n}()},OLIi:function(n,t,e){"use strict";e.d(t,"a",(function(){return s}));var i=e("mrSG"),a=e("TwVa"),c=e("Wcq6"),r=e("8Y7J"),l=e("ZM8z"),u=e("xv9W"),o=e("iInd"),s=function(){var n=function(){function n(t,e,i){_classCallCheck(this,n),this.franchiseService=t,this.restaurantService=e,this.router=i}return _createClass(n,[{key:"canActivate",value:function(){return Object(i.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e,i,c,r,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=parseInt(JSON.parse(localStorage.getItem("franchiseId")),10),e=parseInt(JSON.parse(localStorage.getItem("restaurantId")),10),!isNaN(t)&&!isNaN(e)){n.next=3;break}return n.abrupt("return",(this.idsDetectedAsInvalid(),!1));case 3:return n.next=5,this.franchiseService.getFranchisesAsPromise();case 5:if(!((i=n.sent.franchises).length>0)){n.next=18;break}if(-1===(c=this.isIdContainedByAnyOfTheFranchises(i,t))){n.next=17;break}return n.next=11,this.restaurantService.getRestaurantsAsPromise(t);case 11:if(n.t0=function(n){return new a.h(n)},!((r=n.sent.restaurants.map(n.t0)).length>0)){n.next=16;break}return l=this.isIdContainedByAnyOfTheRestaurants(r,e),n.abrupt("return",-1!==l?(this.franchiseService.setFranchise(i[c]),this.restaurantService.setRestaurant(r[l]),!0):(this.idsDetectedAsInvalid(),!1));case 16:case 17:case 18:return n.abrupt("return",(this.idsDetectedAsInvalid(),!1));case 19:case"end":return n.stop()}}),n,this)})))}},{key:"isIdContainedByAnyOfTheFranchises",value:function(n,t){for(var e=0;e<n.length;e++)if(n[e].id===t)return e;return-1}},{key:"isIdContainedByAnyOfTheRestaurants",value:function(n,t){for(var e=0;e<n.length;e++)if(n[e].id===t)return e;return-1}},{key:"idsDetectedAsInvalid",value:function(){var n=this;localStorage.clear(),c.auth().signOut().finally((function(){n.router.navigate([""])}))}}]),n}();return n.\u0275prov=r.bc({factory:function(){return new n(r.cc(l.a),r.cc(u.a),r.cc(o.l))},token:n,providedIn:"root"}),n}()},OeaA:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var i=function n(){_classCallCheck(this,n)}},aSZ1:function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var i=["section[_ngcontent-%COMP%]{min-height:100vh}section[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;padding:0 40px;width:100%;max-width:480px}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100px}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{margin-top:24px;color:#3c3c3c;font-size:20px;font-weight:500;line-height:26px}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:8px;color:#7a7a7a;font-size:14px;line-height:22px;text-align:center;white-space:pre-line}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:28px}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.inl[_ngcontent-%COMP%]{margin-top:32px;-webkit-box-pack:justify;justify-content:space-between}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.inl[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{width:142px}section[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}"]},dxD2:function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var i=e("AytR"),a=e("8Y7J"),c=e("IheW"),r=function(){var n=function(){function n(t){_classCallCheck(this,n),this.http=t}return _createClass(n,[{key:"getUsers",value:function(n){var t=i.a.RESTAURANT_USERS.replace("{restaurantId}",n.toString());return this.http.get(t)}},{key:"createStaff",value:function(n,t){var e=i.a.RESTAURANT_USERS.replace("{restaurantId}",n.toString());return this.http.post(e,t)}},{key:"updateStaff",value:function(n,t){var e=i.a.USERS_ID.replace("{userId}",n.toString());return this.http.put(e,t)}},{key:"createManager",value:function(n,t){var e=i.a.FRANCHISES_MANAGERS.replace("{franchiseId}",n.toString());return this.http.post(e,t)}},{key:"deleteUser",value:function(n){var t=i.a.USERS_ID.replace("{userId}",n.toString());return this.http.delete(t)}},{key:"getUserDetails",value:function(){return this.http.get(i.a.USERS_PROFILE)}},{key:"updateUserProfile",value:function(n){return this.http.put(i.a.USERS_PROFILE,n)}}]),n}();return n.\u0275prov=a.bc({factory:function(){return new n(a.cc(c.c))},token:n,providedIn:"root"}),n}()},jMqV:function(n,t,e){"use strict";e.d(t,"a",(function(){return r})),e.d(t,"b",(function(){return o})),e.d(t,"c",(function(){return f})),e.d(t,"d",(function(){return s}));var i=e("8Y7J"),a=e("UhP/"),c=e("8LU1");e("s7LF");var r=new i.r("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1}}}),l=0,u=function n(t,e){_classCallCheck(this,n),this.source=t,this.checked=e},o=function(n){function t(n,e,a,c,r,u,o,s){var f;return _classCallCheck(this,t),(f=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n)))._focusMonitor=e,f._changeDetectorRef=a,f.defaults=u,f._animationMode=o,f._onChange=function(n){},f._onTouched=function(){},f._uniqueId="mat-slide-toggle-".concat(++l),f._required=!1,f._checked=!1,f.name=null,f.id=f._uniqueId,f.labelPosition="after",f.ariaLabel=null,f.ariaLabelledby=null,f.change=new i.o,f.toggleChange=new i.o,f.dragChange=new i.o,f.tabIndex=parseInt(c)||0,f}return _inherits(t,n),_createClass(t,[{key:"ngAfterContentInit",value:function(){var n=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(t){t||Promise.resolve().then((function(){return n._onTouched()}))}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"_onChangeEvent",value:function(n){n.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}},{key:"_onInputClick",value:function(n){n.stopPropagation()}},{key:"writeValue",value:function(n){this.checked=!!n}},{key:"registerOnChange",value:function(n){this._onChange=n}},{key:"registerOnTouched",value:function(n){this._onTouched=n}},{key:"setDisabledState",value:function(n){this.disabled=n,this._changeDetectorRef.markForCheck()}},{key:"focus",value:function(n){this._focusMonitor.focusVia(this._inputElement,"keyboard",n)}},{key:"toggle",value:function(){this.checked=!this.checked,this._onChange(this.checked)}},{key:"_emitChangeEvent",value:function(){this._onChange(this.checked),this.change.emit(new u(this,this.checked))}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"required",get:function(){return this._required},set:function(n){this._required=Object(c.c)(n)}},{key:"checked",get:function(){return this._checked},set:function(n){this._checked=Object(c.c)(n),this._changeDetectorRef.markForCheck()}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}}]),t}(Object(a.B)(Object(a.x)(Object(a.y)(Object(a.z)((function n(t){_classCallCheck(this,n),this._elementRef=t}))),"accent"))),s=function n(){_classCallCheck(this,n)},f=function n(){_classCallCheck(this,n)}},kiQV:function(n){n.exports=JSON.parse('{"a":"1.1.0"}')},o0MT:function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var i=e("Wcq6"),a=e("8Y7J"),c=e("iInd"),r=function(){var n=function(){function n(t){_classCallCheck(this,n),this.router=t}return _createClass(n,[{key:"canActivate",value:function(n,t){var e=this;return i.auth().currentUser.getIdTokenResult().then((function(n){var i=n.claims.staff;return!!(n.claims.admin||i&&"staff"===t.url.split("/")[1])||(i?(e.router.navigate(["staff"]),!1):(e.idsDetectedAsInvalid(),!1))}),(function(){return e.idsDetectedAsInvalid(),!1}))}},{key:"idsDetectedAsInvalid",value:function(){var n=this;localStorage.clear(),i.auth().signOut().finally((function(){n.router.navigate([""])}))}}]),n}();return n.\u0275prov=a.bc({factory:function(){return new n(a.cc(c.l))},token:n,providedIn:"root"}),n}()}}]);
//# sourceMappingURL=common-es5.8c20a3d430dfdcff6d4f.js.map