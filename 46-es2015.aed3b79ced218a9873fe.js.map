{"version":3,"sources":["webpack:///src/app/pages/recover-password/recover-password.module.ts","webpack:///src/app/pages/recover-password/recover-password.component.ts","webpack:///src/app/pages/recover-password/recover-password.component.html","webpack:///src/app/pages/recover-password/recover-password-routing.module.ts"],"names":["RecoverPasswordModule","fb","router","dialog","loginPipe","topLoaderService","recoverPasswordForm","this","group","email","showLoader","get","value","sendPasswordResetEmail","then","hiddeLoader","showSuccess","navigate","catch","error","showError","code","errorCode","open","transform","duration","successMessage","RecoverPasswordRoutingModule"],"mappings":"qHAmBO,MAAMA,G,4KCNN,MAAM,EAMX,YACUC,EACAC,EACAC,EACAC,EACAC,GAJA,KAAAJ,KACA,KAAAC,SACA,KAAAC,SACA,KAAAC,YACA,KAAAC,mBATH,KAAAC,oBAAsBC,KAAKN,GAAGO,MAAM,CACzCC,MAAO,IAAI,IAAY,GAAI,MAWtB,kBACLF,KAAKF,iBAAiBK,aACtB,MAAMD,EAAQF,KAAKD,oBAAoBK,IAAI,SAASC,MACpD,SAEGC,uBAAuBJ,GACvBK,KAAK,KACJP,KAAKF,iBAAiBU,cACtBR,KAAKS,YAAY,sFACjBT,KAAKL,OAAOe,SAAS,CAAC,aAEvBC,MAAOC,IACNZ,KAAKF,iBAAiBU,cACtBR,KAAKa,UAAUD,EAAME,QAInB,UAAUC,GAChBf,KAAKJ,OAAOoB,KAAKhB,KAAKH,UAAUoB,UAAUF,GAAa,YAAa,CAClEG,SAAU,OAIN,YAAYC,GAClBnB,KAAKJ,OAAOoB,KAAKG,EAAiB,YAAa,CAC7CD,SAAU,Q,ilDCpDhB,mGACE,8FACE,qHACA,4EAAc,2CACd,8DAAG,+EAGH,kU,8EAAM,iB,+BAAN,0NACE,ysCACE,oHAAW,gDACX,olB,MAAA,c,qzBAEF,gFACE,mJ,MAAA,c,oKACE,2HACA,wFAAyB,mCAE3B,sGACE,kEAAM,kDAAa,KAXzB,QAWyB,YAX6C,qBAGlE,SAAgB,SAAhB,UAGA,SAAG,sBAAmB,KAN1B,8LACE,stBAEE,ibAGA,+C,qSCCD,MAAME,G","file":"x","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RecoverPasswordComponent } from './recover-password.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { AngularFireAuthModule } from '@angular/fire/auth';\r\nimport { RecoverPasswordRoutingModule } from './recover-password-routing.module';\r\n@NgModule({\r\n  declarations: [RecoverPasswordComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MatInputModule,\r\n    AngularFireAuthModule,\r\n    RecoverPasswordRoutingModule\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class RecoverPasswordModule {}\r\n","import { Component } from '@angular/core';\r\nimport { FormControl, FormBuilder } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport * as firebase from 'firebase/app';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { LoginErrorCodePipe } from '@pipes/login-error-code/login-error-code.pipe';\r\nimport { TopLoaderService } from '@services';\r\n@Component({\r\n  selector: 'app-recover-password',\r\n  templateUrl: './recover-password.component.html',\r\n  styleUrls: ['./recover-password.component.scss'],\r\n  providers: [LoginErrorCodePipe]\r\n})\r\nexport class RecoverPasswordComponent {\r\n\r\n  public recoverPasswordForm = this.fb.group({\r\n    email: new FormControl('', [])\r\n  });\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private router: Router,\r\n    private dialog: MatSnackBar,\r\n    private loginPipe: LoginErrorCodePipe,\r\n    private topLoaderService: TopLoaderService\r\n    ) { }\r\n\r\n  public recoverPassword(): void {\r\n    this.topLoaderService.showLoader();\r\n    const email = this.recoverPasswordForm.get('email').value;\r\n    firebase\r\n      .auth()\r\n      .sendPasswordResetEmail(email)\r\n      .then(() => {\r\n        this.topLoaderService.hiddeLoader();\r\n        this.showSuccess('El correo con las instrucciones para reestablecer tu contraseña ha sido enviado');\r\n        this.router.navigate(['/login']);\r\n      })\r\n      .catch((error: any) => {\r\n        this.topLoaderService.hiddeLoader();\r\n        this.showError(error.code);\r\n      });\r\n  }\r\n\r\n  private showError(errorCode: string): void {\r\n    this.dialog.open(this.loginPipe.transform(errorCode) , 'Entendido', {\r\n      duration: 15000,\r\n    });\r\n  }\r\n\r\n  private showSuccess(successMessage: string): void {\r\n    this.dialog.open(successMessage , 'Entendido', {\r\n      duration: 15000,\r\n    });\r\n  }\r\n}\r\n","<section id=\"login\" class=\"inl\">\r\n  <div class=\"recover-container\">\r\n    <img src=\"assets/images/logos/logo.svg\" alt=\"Logo\" />\r\n    <p class=\"h1\">Inicia sesión</p>\r\n    <p>\r\n      Ingresa el correo con el que registraste tu cuenta\r\n    </p>\r\n    <form (ngSubmit)=\"recoverPassword()\" [formGroup]=\"recoverPasswordForm\">\r\n      <mat-form-field>\r\n        <mat-label>Correo electrónico</mat-label>\r\n        <input matInput formControlName=\"email\" />\r\n      </mat-form-field>\r\n      <div class=\"inl\">\r\n        <a routerLink=\"/login\" class=\"inl\">\r\n          <img src=\"assets/images/icons/arrow.svg\" alt=\"Regresar\">\r\n          <span class=\"clr-orange\">Regresar</span>\r\n        </a>\r\n        <button class=\"btns\" type=\"submit\">\r\n          <span>Enviar correo</span>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</section>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { RecoverPasswordComponent } from './recover-password.component';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RecoverPasswordComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RecoverPasswordRoutingModule {}\r\n"]}