(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2qGb":function(t,n,e){"use strict";var i=e("OLIi");e.d(n,"b",(function(){return i.a}));var l=e("o0MT");e.d(n,"a",(function(){return l.a}))},"3mAq":function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));class i{constructor(){}transform(t){let n="";switch(t){case"staff":n="Staff";break;case"manager":n="Gerente";break;case"admin":n="Administrador";break;default:n="No se ha podido identificar el rol"}return n}}},"9zbn":function(t,n,e){"use strict";var i=e("8Y7J"),l=e("SVse");e("NhFE"),e.d(n,"a",(function(){return c})),e.d(n,"b",(function(){return d}));var c=i.xb({encapsulation:0,styles:[["ul[_ngcontent-%COMP%]{list-style:none;margin:0;width:100%}ul[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:100%;margin:0 8px;width:24px;height:24px;color:#3c3c3c;font-weight:400;cursor:pointer;font-size:14px;line-height:1;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ul[_ngcontent-%COMP%]   li.icon[_ngcontent-%COMP%]{font-size:24px;color:#a8a8a8;font-weight:lighter;padding-bottom:4px}ul[_ngcontent-%COMP%]   li.icon[_ngcontent-%COMP%]:last-child{color:#f26614}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#f26614;color:#fff}ul[_ngcontent-%COMP%]   li.points[_ngcontent-%COMP%]{cursor:default}"]],data:{}});function a(t){return i.ac(0,[(t()(),i.zb(0,0,null,null,1,"li",[],null,[[null,"click"]],(function(t,n,e){var i=!0;return"click"===n&&(i=!1!==t.component.firstPage()&&i),i}),null,null)),(t()(),i.Xb(-1,null,["1"]))],null,null)}function r(t){return i.ac(0,[(t()(),i.zb(0,0,null,null,1,"li",[["class","points"]],null,null,null,null,null)),(t()(),i.Xb(-1,null,["..."]))],null,null)}function o(t){return i.ac(0,[(t()(),i.zb(0,0,null,null,1,"li",[],null,[[null,"click"]],(function(t,n,e){var i=!0,l=t.component;return"click"===n&&(i=!1!==l.changePage(l.actualPage-1)&&i),i}),null,null)),(t()(),i.Xb(1,null,[" "," "]))],null,(function(t,n){t(n,1,0,n.component.actualPage-1)}))}function s(t){return i.ac(0,[(t()(),i.zb(0,0,null,null,1,"li",[["class","active"]],null,[[null,"click"]],(function(t,n,e){var i=!0,l=t.component;return"click"===n&&(i=!1!==l.changePage(l.actualPage)&&i),i}),null,null)),(t()(),i.Xb(1,null,[" "," "]))],null,(function(t,n){t(n,1,0,n.component.actualPage)}))}function u(t){return i.ac(0,[(t()(),i.zb(0,0,null,null,1,"li",[],null,[[null,"click"]],(function(t,n,e){var i=!0,l=t.component;return"click"===n&&(i=!1!==l.changePage(l.actualPage+1)&&i),i}),null,null)),(t()(),i.Xb(1,null,[" "," "]))],null,(function(t,n){t(n,1,0,n.component.actualPage+1)}))}function h(t){return i.ac(0,[(t()(),i.zb(0,0,null,null,1,"li",[["class","points"]],null,null,null,null,null)),(t()(),i.Xb(-1,null,["..."]))],null,null)}function g(t){return i.ac(0,[(t()(),i.zb(0,0,null,null,1,"li",[],null,[[null,"click"]],(function(t,n,e){var i=!0;return"click"===n&&(i=!1!==t.component.lastPage()&&i),i}),null,null)),(t()(),i.Xb(1,null,[" "," "]))],null,(function(t,n){t(n,1,0,n.component.totalPages)}))}function d(t){return i.ac(0,[(t()(),i.zb(0,0,null,null,18,"ul",[],null,null,null,null,null)),(t()(),i.zb(1,0,null,null,1,"li",[["class","icon"]],null,[[null,"click"]],(function(t,n,e){var i=!0,l=t.component;return"click"===n&&(i=!1!==l.changePage(l.actualPage-1)&&i),i}),null,null)),(t()(),i.Xb(-1,null,["\u2039"])),(t()(),i.jb(16777216,null,null,1,null,a)),i.yb(4,16384,null,0,l.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(t()(),i.jb(16777216,null,null,1,null,r)),i.yb(6,16384,null,0,l.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(t()(),i.jb(16777216,null,null,1,null,o)),i.yb(8,16384,null,0,l.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(t()(),i.jb(16777216,null,null,1,null,s)),i.yb(10,16384,null,0,l.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(t()(),i.jb(16777216,null,null,1,null,u)),i.yb(12,16384,null,0,l.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(t()(),i.jb(16777216,null,null,1,null,h)),i.yb(14,16384,null,0,l.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(t()(),i.jb(16777216,null,null,1,null,g)),i.yb(16,16384,null,0,l.m,[i.R,i.N],{ngIf:[0,"ngIf"]},null),(t()(),i.zb(17,0,null,null,1,"li",[["class","icon"]],null,[[null,"click"]],(function(t,n,e){var i=!0,l=t.component;return"click"===n&&(i=!1!==l.changePage(l.actualPage+1)&&i),i}),null,null)),(t()(),i.Xb(-1,null,["\u203a"]))],(function(t,n){var e=n.component;t(n,4,0,e.actualPage>1),t(n,6,0,e.actualPage-1-1>1),t(n,8,0,e.actualPage>2),t(n,10,0,e.actualPage),t(n,12,0,e.actualPage+1<e.totalPages),t(n,14,0,e.actualPage+1-e.totalPages<-1),t(n,16,0,e.actualPage<e.totalPages)}),null)}},ERj4:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));class i{constructor(){}transform(t){let n="";switch(t){case"auth/user-not-found":n="El usuario no se encuentra registrado";break;case"auth/invalid-email":n="El correo ingresado es inv\xe1lido";break;case"auth/wrong-password":n="La contrase\xf1a ingresada es incorrecta";break;case"auth/not-an-admin":n="La cuenta no cuenta con permisos de administrador";break;default:n="No se ha podido identificar el error"}return n}}},ETUl:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));class i{}},JJoM:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var i=e("AytR"),l=e("8Y7J"),c=e("IheW");let a=(()=>{class t{constructor(t){this.http=t}getStripeStatus(){return this.http.get(i.a.STRIPE_OAUTH_STATUS)}getStripeLink(){return this.http.get(i.a.STRIPE_LINK)}}return t.\u0275prov=l.bc({factory:function(){return new t(l.cc(c.c))},token:t,providedIn:"root"}),t})()},NhFE:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var i=e("8Y7J");class l{constructor(){this.totalPages=0,this.currentPage=new i.o,this.actualPage=1,this.resetPagination()}ngOnChanges(){this.resetPagination()}changePage(t){t!==this.actualPage&&t>0&&t<=this.totalPages&&(this.currentPage.next(t),this.actualPage=t)}firstPage(){this.changePage(1)}lastPage(){this.changePage(this.totalPages)}resetPagination(){this.actualPage=1,this.currentPage.next(this.actualPage)}}},OLIi:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var i=e("mrSG"),l=e("TwVa"),c=e("Wcq6"),a=e("8Y7J"),r=e("ZM8z"),o=e("xv9W"),s=e("iInd");let u=(()=>{class t{constructor(t,n,e){this.franchiseService=t,this.restaurantService=n,this.router=e}canActivate(){return Object(i.__awaiter)(this,void 0,void 0,(function*(){const t=parseInt(JSON.parse(localStorage.getItem("franchiseId")),10),n=parseInt(JSON.parse(localStorage.getItem("restaurantId")),10);if(isNaN(t)||isNaN(n))return this.idsDetectedAsInvalid(),!1;{const e=(yield this.franchiseService.getFranchisesAsPromise()).franchises;if(e.length>0){const i=this.isIdContainedByAnyOfTheFranchises(e,t);if(-1!==i){const c=(yield this.restaurantService.getRestaurantsAsPromise(t)).restaurants.map(t=>new l.h(t));if(c.length>0){const t=this.isIdContainedByAnyOfTheRestaurants(c,n);return-1!==t?(this.franchiseService.setFranchise(e[i]),this.restaurantService.setRestaurant(c[t]),!0):(this.idsDetectedAsInvalid(),!1)}return this.idsDetectedAsInvalid(),!1}return this.idsDetectedAsInvalid(),!1}return this.idsDetectedAsInvalid(),!1}}))}isIdContainedByAnyOfTheFranchises(t,n){for(let e=0;e<t.length;e++)if(t[e].id===n)return e;return-1}isIdContainedByAnyOfTheRestaurants(t,n){for(let e=0;e<t.length;e++)if(t[e].id===n)return e;return-1}idsDetectedAsInvalid(){localStorage.clear(),c.auth().signOut().finally(()=>{this.router.navigate([""])})}}return t.\u0275prov=a.bc({factory:function(){return new t(a.cc(r.a),a.cc(o.a),a.cc(s.l))},token:t,providedIn:"root"}),t})()},OeaA:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));class i{}},aSZ1:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var i=["section[_ngcontent-%COMP%]{min-height:100vh}section[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{-webkit-box-pack:center;justify-content:center}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;padding:0 40px;width:100%;max-width:480px}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100px}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{margin-top:24px;color:#3c3c3c;font-size:20px;font-weight:500;line-height:26px}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:8px;color:#7a7a7a;font-size:14px;line-height:22px;text-align:center;white-space:pre-line}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:28px}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.inl[_ngcontent-%COMP%]{margin-top:32px;-webkit-box-pack:justify;justify-content:space-between}section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   div.inl[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{width:142px}section[_ngcontent-%COMP%]   .version[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}"]},dxD2:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var i=e("AytR"),l=e("8Y7J"),c=e("IheW");let a=(()=>{class t{constructor(t){this.http=t}getUsers(t){const n=i.a.RESTAURANT_USERS.replace("{restaurantId}",t.toString());return this.http.get(n)}createStaff(t,n){const e=i.a.RESTAURANT_USERS.replace("{restaurantId}",t.toString());return this.http.post(e,n)}updateStaff(t,n){const e=i.a.USERS_ID.replace("{userId}",t.toString());return this.http.put(e,n)}createManager(t,n){const e=i.a.FRANCHISES_MANAGERS.replace("{franchiseId}",t.toString());return this.http.post(e,n)}deleteUser(t){const n=i.a.USERS_ID.replace("{userId}",t.toString());return this.http.delete(n)}getUserDetails(){return this.http.get(i.a.USERS_PROFILE)}updateUserProfile(t){return this.http.put(i.a.USERS_PROFILE,t)}}return t.\u0275prov=l.bc({factory:function(){return new t(l.cc(c.c))},token:t,providedIn:"root"}),t})()},jMqV:function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return h})),e.d(n,"c",(function(){return d})),e.d(n,"d",(function(){return g}));var i=e("8Y7J"),l=e("UhP/"),c=e("8LU1");e("s7LF");const a=new i.r("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let r=0;class o{constructor(t,n){this.source=t,this.checked=n}}class s{constructor(t){this._elementRef=t}}const u=Object(l.B)(Object(l.x)(Object(l.y)(Object(l.z)(s)),"accent"));class h extends u{constructor(t,n,e,l,c,a,o,s){super(t),this._focusMonitor=n,this._changeDetectorRef=e,this.defaults=a,this._animationMode=o,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId=`mat-slide-toggle-${++r}`,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new i.o,this.toggleChange=new i.o,this.dragChange=new i.o,this.tabIndex=parseInt(l)||0}get required(){return this._required}set required(t){this._required=Object(c.c)(t)}get checked(){return this._checked}set checked(t){this._checked=Object(c.c)(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new o(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}class g{}class d{}},kiQV:function(t){t.exports=JSON.parse('{"a":"1.1.0"}')},o0MT:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var i=e("Wcq6"),l=e("8Y7J"),c=e("iInd");let a=(()=>{class t{constructor(t){this.router=t}canActivate(t,n){return i.auth().currentUser.getIdTokenResult().then(t=>{const e=t.claims.staff;return!!(t.claims.admin||e&&"staff"===n.url.split("/")[1])||(e?(this.router.navigate(["staff"]),!1):(this.idsDetectedAsInvalid(),!1))},()=>(this.idsDetectedAsInvalid(),!1))}idsDetectedAsInvalid(){localStorage.clear(),i.auth().signOut().finally(()=>{this.router.navigate([""])})}}return t.\u0275prov=l.bc({factory:function(){return new t(l.cc(c.l))},token:t,providedIn:"root"}),t})()}}]);
//# sourceMappingURL=common-es2015.8c20a3d430dfdcff6d4f.js.map